<!-- <label for="model-scale" style="position: absolute; top: 10px; left: 10px; background: rgba(255,255,255,0.8); padding: 4px; border-radius: 4px;">
        Size:
        <input type="range" id="model-scale" min="0.1" max="3" step="0.01" value="1">
      </label> -->

      // Model viewer Scale Control
    const modelViewer = document.getElementById('modelViewer');
    const scaleSlider = document.getElementById('model-scale');

    scaleSlider.addEventListener('input', () => {
    const scale = scaleSlider.value;
    modelViewer.scale = `${scale} ${scale} ${scale}`;
    });

    const box = document.getElementById("model-box");
let initialDistance = 0;
let currentScale = 1;

function getDistance(touches) {
  const dx = touches[0].clientX - touches[1].clientX;
  const dy = touches[0].clientY - touches[1].clientY;
  return Math.sqrt(dx * dx + dy * dy);
}

box.addEventListener("touchstart", (e) => {
  if (e.touches.length === 2) {
    initialDistance = getDistance(e.touches);
  }
});

box.addEventListener("touchmove", (e) => {
  if (e.touches.length === 2) {
    e.preventDefault(); // stop page scroll/zoom
    let newDistance = getDistance(e.touches);
    let scaleChange = newDistance / initialDistance;
    let newScale = currentScale * scaleChange;

    // Limit scaling between 0.5x and 3x
    newScale = Math.min(Math.max(newScale, 0.5), 3);

    box.style.transform = `scale(${newScale})`;
  }
});

box.addEventListener("touchend", (e) => {
  if (e.touches.length < 2) {
    // Save the scale after gesture ends
    let transform = window.getComputedStyle(box).transform;
    if (transform !== "none") {
      let values = transform.match(/matrix\(([^)]+)\)/)[1].split(",");
      currentScale = parseFloat(values[0]);
    }
  }
});